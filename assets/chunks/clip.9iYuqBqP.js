import{M as g,V as L,f as _,g as l}from"./index.BR2auVMv.js";import{V as v,a as b,G as h,p as w}from"./province.Wttuk8w2.js";import{f as x,c as V,a as M}from"./index.51x-q-WR.js";import{p as i,v as S,c as r,o as s,e as B,F as k,B as E,j as f,N as P,t as d}from"./framework.BBpwGDFv.js";const G={key:0,class:"absolute left-0 bottom-0 z-5 text-xs"},N={class:"flex items-center gap-xs"},j={class:"label"},K={__name:"clip",setup(z){const c=i();let a;const p=()=>{a=new g({target:c.value,view:new L({center:_([120.12,30.18]),zoom:8})})},y=()=>{const e=l({tdtKey:"a321ffa5e4eb54749f777cada94e8b36",layerType:"img"});a.addLayer(e);const t=l({tdtKey:"a321ffa5e4eb54749f777cada94e8b36",layerType:"cia"});a.addLayer(t)},u=()=>{const e=a.getLayers().getArray()[0];x({layer:e,filterOptions:M.blue})},m=()=>{const e=new v({source:new b({features:new h({dataProjection:"EPSG:4326",featureProjection:"EPSG:3857"}).readFeatures(w.features.find(t=>t.properties.name==="浙江省"))})});a.getLayers().getArray().forEach(t=>{V({layerToBeClipped:t,clipLayer:e})}),a.getView().fit(e.getSource().getExtent())},n=i();return S(()=>{p(),y(),u(),m()}),(e,t)=>(s(),r("div",{ref_key:"refMap",ref:c,class:"h-xs relative"},[n.value?(s(),r("div",G,[(s(!0),r(k,null,E(n.value,o=>(s(),r("div",N,[f("div",{class:"h-2.5 w-2.5 rounded-full",style:P({background:o.color})},null,4),f("div",j,d(Math.floor(o.min))+" - "+d(Math.ceil(o.max)),1)]))),256))])):B("",!0)],512))}};export{K as default};
